<head>
<!-- Generated by perlmod2www.pl -->
<title>
UTR3 documentation.
</title>
<link rel="stylesheet" type="text/css" href="../perl.css">
</head>
<body bgcolor="white">
<span id="modRootPath">MyBio::Transcript</span>
<span id="modName">UTR3</span>
<div id="sep"></div>
<a name="TOP" id="TOP"></a>
<table id="daArea" width="100%"><tr><td id="daEntry" ><a href="#libs">Included libraries</a></td><td id="daEntry" ><a href="#vardefs">Package variables</a></td><td id="daEntry" ><a href="#General">General documentation</a></td><td id="daEntry" ><a href="#Methods">Methods</a></td></tr></table>
<div id="sep"></div>
<a name="vardefs" id="vardefs"></a><div id="descTitle">Package variables</div>
<div id="descArea"><div id="libEntry"><div id="descSubTitle">Privates (from <b>"my"</b> definitions)</div>
</div>
<div id="libEntry"><span id="var">$select_region_info_from_transcripts_where_internal_tid_Query</span> = <span id="perlFunc">qq</span><span id="dqStr">/<span id="regExp">/</span>/</span>SELECT UTR3_start,UTR3_stop,UTR3_seq FROM diana_transcripts WHERE diana_transcripts.internal_tid=?/</div>
<div id="libEntry"><span id="var">$select_region_info_from_transcripts_where_internal_tid</span>;</div>
</div>
<div id="sep"></div>
<a name="libs" id="libs"></a>
<div id="descTitle">Inherit</div>
<div id="descArea"><span id="isa"><a href="TranscriptRegion.html">MyBio::Transcript::TranscriptRegion</a></span> </div>
<div id="sep"></div>
<a name="SYNOPSIS" id="SYNOPSIS"></a>
<div id="descTitle">Synopsis</div>
<div id="error">No synopsis!</div>
<div id="sep"></div>
<a name="DESCRIPTION" id="DESCRIPTION"></a>
<div id="descTitle">Description</div>
<div id="error">No description!</div>
<div id="sep"></div>
<a name="Methods" id="Methods"></a>
<div id="descTitle">Methods</div>
<table id="methIndArea" width="100%" cellspacing="0"><tr><td id="methIndEntry">_init</td><td id="methIndEntry"><div id="error">No description</div></td><td id="methIndEntry"><a href="#CODE1">Code</a></td></tr>
<tr><td id="methIndEntry">_read_conservation_profiles_from_file</td><td id="methIndEntry"><div id="error">No description</div></td><td id="methIndEntry"><a href="#CODE2">Code</a></td></tr>
<tr><td id="methIndEntry">create_new_UTR3_from_database</td><td id="methIndEntry"><div id="error">No description</div></td><td id="methIndEntry"><a href="#CODE3">Code</a></td></tr>
<tr><td id="methIndEntry">get_conservation</td><td id="methIndEntry"><div id="error">No description</div></td><td id="methIndEntry"><a href="#CODE4">Code</a></td></tr>
<tr><td id="methIndEntry">read_conservation_profiles</td><td id="methIndEntry"><div id="error">No description</div></td><td id="methIndEntry"><a href="#CODE5">Code</a></td></tr>
<tr><td id="methIndEntry">set_accessibility</td><td id="methIndEntry"><a href="#POD1">Description</a></td><td id="methIndEntry"><a href="#CODE6">Code</a></td></tr>
<tr><td id="methIndEntry">set_conservation</td><td id="methIndEntry"><div id="error">No description</div></td><td id="methIndEntry"><a href="#CODE7">Code</a></td></tr>
<tr><td id="methIndEntry">whatami</td><td id="methIndEntry"><div id="error">No description</div></td><td id="methIndEntry"><a href="#CODE8">Code</a></td></tr>
</table>
<div id="sep"></div>
<a name="MethDesc" id="MethDesc"></a>
<div id="mainTitle">Methods description</div>
<div id="sep"></div>
<table id="methDescTitle" width="100%"><tr><td WIDTH="200"><a name="_pod_set_accessibility" id="_pod_set_accessibility"></a><a name="POD1" id="POD1"></a>set_accessibility</td><td ><a href="#CODE6">code</a></td><td >&nbsp;&nbsp;&nbsp;&nbsp;</td><td ><a href="#POD2">next</a></td><td align="right"><a href="#TOP">Top</a></td></tr></table>
<table id="methDescArea" width="100%"><tr><td><pre id="podParagraph">  Arg [1]    : string $accessibilityVar
               A string with accesibility values per nucleotide separated by pipes "|"
  Example    : set_accessibility("0.1|0.9|0.5|0.4|0.3") # for a Transcript::UTR3 of length 5
  Description: Sets the accessibility attribute for the 3'UTR.
               IMPORTANT: Initially the accessibility calculation for the 3'UTR contained 300 nucleotides upflank. For this, the method overides the default to remove these 300 additional values
  Returntype : NULL
  Caller     : ?
  Status     : Under development</pre></td></tr></table>
<div id="sep"></div>
<a name="MethCode" id="MethCode"></a>
<div id="mainTitle">Methods code</div>
<div id="sep"></div>
<table id="methCodeTitle" width="100%"><tr><td width="200"><a name="CODE1" id="CODE1"></a>_init</td><td >description</td><td >prev</td><td ><a href="#CODE2">next</a></td><td align="right"><a href="#TOP">Top</a></td></tr></table>
<div id="methCodeArea"><td ><span id="sub">sub</span> <span id="privSubName">_init</span>
{<pre>	<span id="perlKey">my</span> <span id="braces">(</span><span id="var">$self</span>,<span id="var">$data</span><span id="braces">)</span> = <span id="var">@_</span>;
	
	<span id="var">$self</span>-&gt;<span id="method">SUPER</span>::<span id="method">_init</span><span id="braces">(</span><span id="var">$data</span><span id="braces">)</span>;
	<span id="var">$self</span>-&gt;<span id="method">set_conservation</span><span id="braces">(</span>$$data<span id="braces">{</span>CONSERVATION<span id="braces">}</span><span id="braces">)</span>;
	
	<span id="perlKey">return</span> <span id="var">$self</span>;</pre>}</td></div>
<div id="sep"></div>
<table id="methCodeTitle" width="100%"><tr><td width="200"><a name="CODE2" id="CODE2"></a>_read_conservation_profiles_from_file</td><td >description</td><td ><a href="#CODE1">prev</a></td><td ><a href="#CODE3">next</a></td><td align="right"><a href="#TOP">Top</a></td></tr></table>
<div id="methCodeArea"><td ><span id="sub">sub</span> <span id="privSubName">_read_conservation_profiles_from_file</span>
{<pre>		<span id="perlKey">my</span> <span id="braces">(</span><span id="var">$class</span>,<span id="var">$filename</span><span id="braces">)</span>=<span id="var">@_</span>;
		
		<span id="perlFunc">open</span> <span id="braces">(</span>PROFILE,<span id="var">$filename</span><span id="braces">)</span> or <span id="perlFunc">die</span> <span id="dqStr">"cannot open file <span id="var">$filename</span> $!"</span>;
		<span id="perlKey">while</span> <span id="braces">(</span><span id="perlKey">my</span> <span id="var">$line</span>=&lt;PROFILE&gt;<span id="braces">)</span> <span id="braces">{</span>
			<span id="perlFunc">chomp</span> <span id="var">$line</span>;
			<span id="perlKey">my</span> <span id="braces">(</span><span id="var">$enstid</span>,<span id="var">$cons_profile</span><span id="braces">)</span> = <span id="perlFunc">split</span><span id="braces">(</span><span id="regExp">/\t/</span>,<span id="var">$line</span><span id="braces">)</span>;
			<span id="perlKey">my</span> <span id="var">$transcript</span> = <span id="module"><a href="../Transcript.html">MyBio::Transcript</a></span>-&gt;<span id="method">get_by_enstid</span><span id="braces">(</span><span id="var">$enstid</span><span id="braces">)</span>;
			<span id="perlKey">if</span> <span id="braces">(</span><span id="perlFunc">defined</span> <span id="var">$transcript</span><span id="braces">)</span> <span id="braces">{</span>
				<span id="var">$transcript</span>-&gt;<span id="method">get_utr3</span>-&gt;<span id="method">set_conservation</span><span id="braces">(</span><span id="var">$cons_profile</span><span id="braces">)</span>;
			<span id="braces">}</span>
		<span id="braces">}</span>
		<span id="perlFunc">close</span> PROFILE;</pre>}</td></div>
<div id="sep"></div>
<table id="methCodeTitle" width="100%"><tr><td width="200"><a name="CODE3" id="CODE3"></a>create_new_UTR3_from_database</td><td >description</td><td ><a href="#CODE2">prev</a></td><td ><a href="#CODE4">next</a></td><td align="right"><a href="#TOP">Top</a></td></tr></table>
<div id="methCodeArea"><td ><span id="sub">sub</span> <span id="subName">create_new_UTR3_from_database</span>
{<pre>		<span id="perlKey">my</span> <span id="braces">(</span><span id="var">$class</span>,<span id="var">$transcript</span><span id="braces">)</span> = <span id="var">@_</span>;
		
		<span id="perlKey">my</span> <span id="var">$internal_tid</span> = <span id="var">$transcript</span>-&gt;<span id="method">get_internalID</span><span id="braces">(</span><span id="braces">)</span>;
		<span id="perlKey">my</span> <span id="var">$DBconnector</span> = <span id="var">$class</span>-&gt;<span id="method">get_global_DBconnector</span><span id="braces">(</span><span id="braces">)</span>;
		<span id="perlKey">if</span> <span id="braces">(</span><span id="perlFunc">defined</span> <span id="var">$DBconnector</span><span id="braces">)</span> <span id="braces">{</span>
			<span id="perlKey">my</span> <span id="var">$dbh</span> = <span id="var">$DBconnector</span>-&gt;<span id="method">get_handle</span><span id="braces">(</span><span id="braces">)</span>;
			<span id="perlKey">unless</span> <span id="braces">(</span><span id="perlFunc">defined</span> <span id="var">$select_region_info_from_transcripts_where_internal_tid</span><span id="braces">)</span> <span id="braces">{</span>
				<span id="var">$select_region_info_from_transcripts_where_internal_tid</span> = <span id="var">$dbh</span>-&gt;<span id="method">prepare</span><span id="braces">(</span><span id="var">$select_region_info_from_transcripts_where_internal_tid_Query</span><span id="braces">)</span>;
			<span id="braces">}</span>
			<span id="var">$select_region_info_from_transcripts_where_internal_tid</span>-&gt;<span id="method">execute</span><span id="braces">(</span><span id="var">$internal_tid</span><span id="braces">)</span>;
			<span id="perlKey">my</span> <span id="var">$fetch_hash_ref</span> = <span id="var">$select_region_info_from_transcripts_where_internal_tid</span>-&gt;<span id="method">fetchrow_hashref</span>;
			<span id="var">$select_region_info_from_transcripts_where_internal_tid</span>-&gt;<span id="method">finish</span><span id="braces">(</span><span id="braces">)</span>; <span id="comment"># there should be only one result so I have to indicate that fetching is over</span><br />			
			<span id="perlKey">my</span> <span id="var">$utr3Obj</span> = <span id="module"><a href="UTR3.html">MyBio::Transcript::UTR3</a></span>-&gt;<span id="perlKey">new</span><span id="braces">(</span><span id="braces">{</span>
								TRANSCRIPT       =&gt; <span id="var">$transcript</span>,
								SPLICE_STARTS    =&gt; $$fetch_hash_ref<span id="braces">{</span>UTR3_start<span id="braces">}</span>,
								SPLICE_STOPS     =&gt; $$fetch_hash_ref<span id="braces">{</span>UTR3_stop<span id="braces">}</span>,
								SEQUENCE         =&gt; $$fetch_hash_ref<span id="braces">{</span>UTR3_seq<span id="braces">}</span>,
								<span id="braces">}</span><span id="braces">)</span>;
			
			<span id="perlKey">return</span> <span id="var">$utr3Obj</span>;
		<span id="braces">}</span>
		<span id="perlKey">else</span> <span id="braces">{</span>
			<span id="perlKey">return</span> <span id="perlFunc">undef</span>;
		<span id="braces">}</span></pre>}</td></div>
<div id="sep"></div>
<table id="methCodeTitle" width="100%"><tr><td width="200"><a name="CODE4" id="CODE4"></a>get_conservation</td><td >description</td><td ><a href="#CODE3">prev</a></td><td ><a href="#CODE5">next</a></td><td align="right"><a href="#TOP">Top</a></td></tr></table>
<div id="methCodeArea"><td ><span id="sub">sub</span> <span id="subName">get_conservation</span>
{<pre>	<span id="perlKey">return</span> <span id="var">$_</span><span id="braces">[</span>0<span id="braces">]</span>-&gt;<span id="braces">{</span>CONSERVATION<span id="braces">}</span>;</pre>}</td></div>
<div id="sep"></div>
<table id="methCodeTitle" width="100%"><tr><td width="200"><a name="CODE5" id="CODE5"></a>read_conservation_profiles</td><td >description</td><td ><a href="#CODE4">prev</a></td><td ><a href="#CODE6">next</a></td><td align="right"><a href="#TOP">Top</a></td></tr></table>
<div id="methCodeArea"><td ><span id="sub">sub</span> <span id="subName">read_conservation_profiles</span>
{<pre>		<span id="perlKey">my</span> <span id="braces">(</span><span id="var">$class</span>,<span id="var">$method</span>,<span id="var">@attributes</span><span id="braces">)</span> = <span id="var">@_</span>;
		
		<span id="perlKey">if</span> <span id="braces">(</span><span id="var">$method</span> <span id="perlKey">eq</span> <span id="dqStr">"FILE"</span><span id="braces">)</span> <span id="braces">{</span>
			<span id="perlKey">my</span> <span id="var">$filename</span> = <span id="var">$attributes</span><span id="braces">[</span>0<span id="braces">]</span>;
			<span id="var">$class</span>-&gt;<span id="method">_read_conservation_profiles_from_file</span><span id="braces">(</span><span id="var">$filename</span><span id="braces">)</span>;
		<span id="braces">}</span></pre>}</td></div>
<div id="sep"></div>
<table id="methCodeTitle" width="100%"><tr><td width="200"><a name="CODE6" id="CODE6"></a>set_accessibility</td><td ><a href="#POD1">description</a></td><td ><a href="#CODE5">prev</a></td><td ><a href="#CODE7">next</a></td><td align="right"><a href="#TOP">Top</a></td></tr></table>
<div id="methCodeArea"><td ><span id="sub">sub</span> <span id="subName">set_accessibility</span>
{<pre>	<span id="perlKey">my</span> <span id="braces">(</span><span id="var">$self</span>,<span id="var">$accessibilityVar</span><span id="braces">)</span> = <span id="var">@_</span>;
	
	<span id="perlKey">if</span> <span id="braces">(</span><span id="perlFunc">defined</span> <span id="var">$accessibilityVar</span><span id="braces">)</span> <span id="braces">{</span>
		<span id="perlKey">my</span> <span id="var">@accessibility</span> = <span id="perlFunc">split</span><span id="braces">(</span><span id="regExp">/\|/</span>,<span id="var">$accessibilityVar</span><span id="braces">)</span>;
		<span id="var">@accessibility</span> = <span id="var">@accessibility</span><span id="braces">[</span>300..<span id="braces">(</span><span id="var">@accessibility</span>-1<span id="braces">)</span><span id="braces">]</span>;
		<span id="perlKey">if</span> <span id="braces">(</span><span id="var">@accessibility</span> != <span id="var">$self</span>-&gt;<span id="method">get_length</span><span id="braces">(</span><span id="braces">)</span><span id="braces">)</span> <span id="braces">{</span>
			<span id="perlFunc">warn</span> <span id="var">$self</span>-&gt;<span id="method">get_transcript</span>-&gt;<span id="method">get_enstid</span><span id="braces">(</span><span id="braces">)</span>.<span id="dqStr">":\tAccessibility array size ("</span>.<span id="perlFunc">scalar</span> <span id="var">@accessibility</span>.<span id="dqStr">") does not match with sequence size ("</span>.<span id="var">$self</span>-&gt;<span id="method">get_length</span><span id="braces">(</span><span id="braces">)</span>.<span id="dqStr">") in "</span>.<span id="perlFunc">ref</span><span id="braces">(</span><span id="var">$self</span><span id="braces">)</span>;
		<span id="braces">}</span>
		<span id="var">$self</span>-&gt;<span id="braces">{</span>ACCESSIBILITY<span id="braces">}</span> =\@ accessibility;
	<span id="braces">}</span>
	<span id="perlKey">else</span> <span id="braces">{</span>
		<span id="var">$self</span>-&gt;<span id="braces">{</span>ACCESSIBILITY<span id="braces">}</span> = <span id="perlFunc">undef</span>;
	<span id="braces">}</span></pre>}</td></div>
<div id="sep"></div>
<table id="methCodeTitle" width="100%"><tr><td width="200"><a name="CODE7" id="CODE7"></a>set_conservation</td><td >description</td><td ><a href="#CODE6">prev</a></td><td ><a href="#CODE8">next</a></td><td align="right"><a href="#TOP">Top</a></td></tr></table>
<div id="methCodeArea"><td ><span id="sub">sub</span> <span id="subName">set_conservation</span>
{<pre>	<span id="var">$_</span><span id="braces">[</span>0<span id="braces">]</span>-&gt;<span id="braces">{</span>CONSERVATION<span id="braces">}</span> = <span id="var">$_</span><span id="braces">[</span>1<span id="braces">]</span> <span id="perlKey">if</span> <span id="perlFunc">defined</span> <span id="var">$_</span><span id="braces">[</span>1<span id="braces">]</span>;</pre>}</td></div>
<div id="sep"></div>
<table id="methCodeTitle" width="100%"><tr><td width="200"><a name="CODE8" id="CODE8"></a>whatami</td><td >description</td><td ><a href="#CODE7">prev</a></td><td >next</td><td align="right"><a href="#TOP">Top</a></td></tr></table>
<div id="methCodeArea"><td ><span id="sub">sub</span> <span id="subName">whatami</span>
{<pre>	<span id="perlKey">return</span> <span id="sqStr">'UTR3'</span>;</pre>}</td></div>
<div id="sep"></div>
<a name="General" id="General"></a>
<div id="mainTitle">General documentation</div>
<div id="sep"></div>
<b>No general documentation available.</b><br />
</body>
</html>
